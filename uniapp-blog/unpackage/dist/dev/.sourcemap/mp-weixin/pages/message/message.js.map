{"version":3,"sources":["webpack:///F:/one-project/uniapp-blog/pages/message/message.vue?5ed5","webpack:///F:/one-project/uniapp-blog/pages/message/message.vue?3394","webpack:///F:/one-project/uniapp-blog/pages/message/message.vue?005e","webpack:///F:/one-project/uniapp-blog/pages/message/message.vue?c4d7","uni-app:///pages/message/message.vue","webpack:///F:/one-project/uniapp-blog/pages/message/message.vue?6c1e","webpack:///F:/one-project/uniapp-blog/pages/message/message.vue?e3cd"],"names":["name","mixins","data","contentText","contentdown","contentrefresh","contentnomore","status","params","pageNo","pageSize","type","pages","messageList","show1","options","icon","style","backgroundColor","width","height","margin","borderRadius","messageCount","titles","created","methods","onLoadShow","handleMarkReadMessage","id","val","errorResponse","handleClick","getMessageNotice","handleMessageNotice","handlePage","showModal","openModal"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wRAEN;AACP,KAAK;AACL;AACA,aAAa,4QAEN;AACP,KAAK;AACL;AACA,aAAa,4QAEN;AACP,KAAK;AACL;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP,KAAK;AACL;AACA,aAAa,0VAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpEA;AAAA;AAAA;AAAA;AAAimB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACkJrnB;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;EACAC;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MACA,GACA;QACAN;QACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MACA,EACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;MACA;QACA;UACA;UACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;UACA;UACA;QACA;QACApB;UACAqB;QACA;MACA;MACA;QACA;QACA;QACA;QACA;UACAC;UACA;YACA;UACA;YACA;UACA;YACA;UACA;YACA;UACA;QACA;UACA;UACA;QACA;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACAH;QACA;QACA;QACA;MACA;MACA;QACA;UACAlB;UACAkB;QACA;QACA;UACA;UACA;UAEA;QACA;QACA;MACA;IAGA;IACAI;MAAA;MACA;MACA;MACA;QACA;QACA;UACA;UACA;QACA;QACA;QACA;QACA;MAEA;IACA;IACAC;MACA;QACA;MACA;MAEA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;QAAA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;ACnUA;AAAA;AAAA;AAAA;AAAoqC,CAAgB,0oCAAG,EAAC,C;;;;;;;;;;;ACAxrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/message/message.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./message.vue?vue&type=template&id=a91f51d4&scoped=true&\"\nvar renderjs\nimport script from \"./message.vue?vue&type=script&lang=js&\"\nexport * from \"./message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message.vue?vue&type=style&index=0&id=a91f51d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a91f51d4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/message/message.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./message.vue?vue&type=template&id=a91f51d4&scoped=true&\"","var components\ntry {\n  components = {\n    tnNavBar: function () {\n      return import(\n        /* webpackChunkName: \"tuniao-ui/components/tn-nav-bar/tn-nav-bar\" */ \"@/tuniao-ui/components/tn-nav-bar/tn-nav-bar.vue\"\n      )\n    },\n    tnBadge: function () {\n      return import(\n        /* webpackChunkName: \"tuniao-ui/components/tn-badge/tn-badge\" */ \"@/tuniao-ui/components/tn-badge/tn-badge.vue\"\n      )\n    },\n    tnModal: function () {\n      return import(\n        /* webpackChunkName: \"tuniao-ui/components/tn-modal/tn-modal\" */ \"@/tuniao-ui/components/tn-modal/tn-modal.vue\"\n      )\n    },\n    tnButton: function () {\n      return import(\n        /* webpackChunkName: \"tuniao-ui/components/tn-button/tn-button\" */ \"@/tuniao-ui/components/tn-button/tn-button.vue\"\n      )\n    },\n    tnSwipeAction: function () {\n      return import(\n        /* webpackChunkName: \"tuniao-ui/components/tn-swipe-action/tn-swipe-action\" */ \"@/tuniao-ui/components/tn-swipe-action/tn-swipe-action.vue\"\n      )\n    },\n    tnSwipeActionItem: function () {\n      return import(\n        /* webpackChunkName: \"tuniao-ui/components/tn-swipe-action-item/tn-swipe-action-item\" */ \"@/tuniao-ui/components/tn-swipe-action-item/tn-swipe-action-item.vue\"\n      )\n    },\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.show1 = !_vm.show1\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./message.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"template-preferred tn-safe-area-inset-bottom\">\r\n    \r\n    <!-- 顶部自定义导航 -->\r\n    <tn-nav-bar fixed :bottomShadow=\"false\" backTitle=\" \" :isBack=\"false\">\r\n      <view class=\"\" @click=\"showModal\">\r\n        <text class=\"tn-text-lg\">{{titles[params.type]}}</text>\r\n        <text class=\"tn-text-xl tn-padding-left-sm tn-icon-notice-no\"></text>  \r\n      </view>\r\n    </tn-nav-bar>\r\n    \r\n    <view class=\"tn-flex tn-message-fixed\" :style=\"{paddingTop: vuex_custom_bar_height + 'px'}\">\r\n    \t<view class=\"tn-flex-1 tn-padding-sm tn-margin-xs tn-radius\">\r\n    \t  <view class=\"tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center\" @click=\"handleMessageNotice(0)\">\r\n    \t    <view class=\"icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur tn-bg-blue tn-color-white\">\r\n    \t      <view class=\"tn-icon-notice-fill\" >\r\n    \t        <tn-badge backgroundColor=\"#E72F8C\" fontColor=\"#FFFFFF\" :absolute=\"true\" :fontSize=\"16\" v-if=\"messageCount.system > 0\">\r\n    \t          <text>{{messageCount.system}}</text>\r\n    \t        </tn-badge>\r\n    \t      </view>\r\n    \t    </view>  \r\n    \t    <view class=\"tn-color-black tn-text-center\">\r\n    \t      <text class=\"tn-text-ellipsis\">系统</text>\r\n    \t    </view>\r\n    \t  </view>\r\n    \t</view>\r\n      <view class=\"tn-flex-1 tn-padding-sm tn-margin-xs tn-radius\">\r\n        <view class=\"tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center\" @click=\"handleMessageNotice(1)\">\r\n          <view class=\"icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur tn-bg-orange tn-color-white\">\r\n            <view class=\"tn-icon-topics-fill\">\r\n              <tn-badge backgroundColor=\"#E72F8C\" fontColor=\"#FFFFFF\" :absolute=\"true\" :fontSize=\"16\" v-if=\"messageCount.comment  > 0\">\r\n                <text>{{messageCount.comment}}</text>\r\n              </tn-badge>\r\n            </view>\r\n          </view>  \r\n          <view class=\"tn-color-black tn-text-center\">\r\n            <text class=\"tn-text-ellipsis\">评论</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view class=\"tn-flex-1 tn-padding-sm tn-margin-xs tn-radius\">\r\n        <view class=\"tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center\" @click=\"handleMessageNotice(2)\">\r\n          <view class=\"icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur tn-bg-red tn-color-white\">\r\n            <view class=\"tn-icon-like-fill\">\r\n              <tn-badge backgroundColor=\"#E72F8C\" fontColor=\"#FFFFFF\" :absolute=\"true\" :fontSize=\"16\" v-if=\"messageCount.watch  > 0\">\r\n                <text>{{messageCount.watch}}</text>\r\n              </tn-badge>\r\n            </view>\r\n          </view>  \r\n          <view class=\"tn-color-black tn-text-center\">\r\n            <text class=\"tn-text-ellipsis\">关注</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view class=\"tn-flex-1 tn-padding-sm tn-margin-xs tn-radius\">\r\n        <view class=\"tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center\" @click=\"handleMessageNotice(3)\">\r\n          <view class=\"icon1__item--icon tn-flex tn-flex-row-center tn-flex-col-center tn-shadow-blur tn-bg-cyan tn-color-white\">\r\n            <view class=\"tn-icon-praise-fill\">\r\n              <tn-badge backgroundColor=\"#E72F8C\" fontColor=\"#FFFFFF\" :absolute=\"true\" :fontSize=\"16\" v-if=\"messageCount.like  > 0\">\r\n                <text>{{messageCount.like}}</text>\r\n              </tn-badge>\r\n            </view>\r\n          </view>  \r\n          <view class=\"tn-color-black tn-text-center\">\r\n            <text class=\"tn-text-ellipsis\">点赞</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n    </view>\r\n\t\r\n\t<tn-modal v-model=\"show1\" :custom=\"true\">\r\n\t  <view class=\"custom-modal-content\">\r\n\t    <view class=\"tn-text-center tn-padding-top-sm tn-text-xxl tn-text-bold\">提 示</view>\r\n\t    <view class=\"tn-text-center tn-padding-top tn-text-lg tn-color-gray\">确定将所有消息标为已读吗？</view>\r\n\t    <view class=\"tn-flex tn-flex-row-between tn-margin-top-xl\">\r\n\t      <view class=\"tn-flex-1 justify-content-item tn-margin-xs tn-text-center\">\r\n\t        <tn-button backgroundColor=\"#00FFC6\" padding=\"40rpx 0\" width=\"90%\" shadow fontBold shape=\"round\" @click=\"show1 = !show1\">\r\n\t          <text class=\"tn-color-black\">取 消</text>\r\n\t        </tn-button>\r\n\t      </view>\r\n\t      <view class=\"tn-flex-1 justify-content-item tn-margin-xs tn-text-center\">\r\n\t        <tn-button backgroundColor=\"#FFF00D\" padding=\"40rpx 0\" width=\"90%\" shadow fontBold shape=\"round\" @click=\"handleMarkReadMessage(null)\">\r\n\t          <text class=\"tn-color-black\">确 定</text>\r\n\t        </tn-button>\r\n\t      </view>\r\n\t    </view>\r\n\t  </view>\r\n\t</tn-modal>\r\n\t\r\n\t<view  class=\"tn-safe-area-inset-bottom tn-margin-bottom-sm\" style=\"margin-top: 260rpx;\tpadding-bottom: 150px;\" :style=\"{paddingTop: vuex_custom_bar_height + 'px'}\">\r\n\t  <tn-swipe-action id=\"message\">\r\n\t    <tn-swipe-action-item  v-for=\"(item,index) in messageList\" :key=\"item.id\" :name=\"index\" :options=\"options\" @click=\"handleClick\">\r\n\t      <view class=\"tn-flex tn-flex-row-between tn-flex-col-center tn-padding\">\r\n\t        <view class=\"justify-content-item\">\r\n\t          <view class=\"tn-flex tn-flex-col-center tn-flex-row-left\">\r\n\t            <view class=\"logo-pic\">\r\n\t              <view class=\"logo-image\">\r\n\t                <view v-if=\"params.type\" class=\"tn-shadow-blur\" :style=\"'background-image:url(' + item.fromUserAvatar + ');width: 110rpx;height: 110rpx;background-size: cover;'\">\r\n\t                </view>\r\n\t\t\t\t\t<view v-else class=\"tn-shadow-blur\" style=\"background-image:url(https://img.shiyit.com/9cf1222617fd4fa197991476a53cc883.jpg);width: 110rpx;height: 110rpx;background-size: cover;\">\r\n\t\t\t\t\t</view>\r\n\t              </view>\r\n\t            </view>\r\n\t            <view class=\"tn-padding-right tn-color-black\" >\r\n\t              <view class=\"tn-padding-right tn-padding-left-sm tn-text-lg\">\r\n\t\t\t\t\t<span v-if=\"params.type == 0\">\r\n\t\t\t\t\t\t系统\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span v-else>\r\n\t\t\t\t\t\t{{item.fromUserNickname}}\r\n\t\t\t\t\t</span>\r\n\t                \r\n\t              </view>\r\n\t              <view class=\"tn-padding-right  tn-padding-top-xs tn-text-ellipsis tn-padding-left-sm tn-text-ellipsis\" >\r\n\t\t\t\t\t  <text  class=\"tn-color-grey\" v-if=\"params.type == 2\">\r\n\t\t\t\t\t\t  关注了您\r\n\t\t\t\t\t  </text>\r\n\t\t\t\t\t  <view  class=\"tn-color-grey \" v-if=\"params.type == 3\" style=\"width: calc(100% - 45px);\">\r\n\t\t\t\t\t  \t\t点赞了你的文章： “{{item.articleTitle}}”\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t\t<view v-if=\"params.type == 0 || params.type == 1\" class=\"tn-color-grey\" v-html=\"item.content\"></view>\r\n\t              </view>\r\n\t            </view>\r\n\t          </view>\r\n\t        </view>\r\n\t        <view class=\"justify-content-item\"  >\r\n\t          <view class=\"tn-flex tn-flex-row-right\">\r\n\t            <view class=\"\">{{item.createTime}}</view>\r\n\t          </view>\r\n\t          <view class=\"tn-flex tn-flex-row-right\" v-if=\"!item.isRead\">\r\n\t            <tn-badge backgroundColor=\"tn-cool-bg-color-1\" fontColor=\"tn-color-white\" :radius=\"20\" margin=\"5rpx 0rpx 5rpx 5rpx\"></tn-badge>\r\n\t          </view>\r\n\t        </view>\r\n\t      </view>\r\n\t    </tn-swipe-action-item>\r\n\t\t   <uni-load-more class=\"loadMore\" :status=\"status\" :content-text=\"contentText\" />\r\n\t  </tn-swipe-action>\r\n\t</view>\r\n\r\n    <view class='tn-tabbar-height'></view>\r\n    \r\n  </view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetMessageNotice,\r\n\t\tgetNewSystemNotice,\r\n\t\tdeleteMessage,\r\n\t\tmarkReadMessageNoticeApplet\r\n\t} from '@/api/im.js'\r\n  import template_page_mixin from '@/libs/mixin/template_page_mixin.js'\r\n\texport default {\r\n    name: 'TemplateMessage',\r\n    mixins: [template_page_mixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcontentText: {\r\n\t\t\t\t\tcontentdown: '查看更多',\r\n\t\t\t\t\tcontentrefresh: '加载中',\r\n\t\t\t\t\tcontentnomore: '没有更多内容了'\r\n\t\t\t\t},\r\n\t\t\t\tstatus: \"more\",\r\n\t\t\t\tparams:{\r\n\t\t\t\t\tpageNo:1,\r\n\t\t\t\t\tpageSize:10,\r\n\t\t\t\t\ttype:0\r\n\t\t\t\t},\r\n\t\t\t\tpages:0,\r\n\t\t\t\tmessageList:[],\r\n\t\t\t\tshow1: false,\r\n\t\t\t\toptions: [{\r\n\t\t\t\t    icon: 'success',\r\n\t\t\t\t    style: {\r\n\t\t\t\t      backgroundColor: '#FFA726',\r\n\t\t\t\t      width: '80rpx',\r\n\t\t\t\t      height: '80rpx',\r\n\t\t\t\t      margin: '0 12rpx',\r\n\t\t\t\t      borderRadius: '100rpx'\r\n\t\t\t\t    }\r\n\t\t\t\t  },\r\n\t\t\t\t  {\r\n\t\t\t\t    icon: 'delete',\r\n\t\t\t\t    style: {\r\n\t\t\t\t      backgroundColor: '#E83A30',\r\n\t\t\t\t      width: '80rpx',\r\n\t\t\t\t      height: '80rpx',\r\n\t\t\t\t      margin: '0 12rpx',\r\n\t\t\t\t      borderRadius: '100rpx'\r\n\t\t\t\t    }\r\n\t\t\t\t  }\r\n\t\t\t\t],\r\n\t\t\t\tmessageCount:{},\r\n\t\t\t\ttitles:[\"系统\",\"评论\",\"关注\",\"点赞\"]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.onLoadShow()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLoadShow(){\r\n\t\t\t\tthis.params.pageNo = 1\r\n\t\t\t\tthis.getMessageNotice()\r\n\t\t\t\tgetNewSystemNotice().then(res =>{\r\n\t\t\t\t\tif(res.code != 200) {\r\n\t\t\t\t\t\tthis.$tn.message.toast(res.message)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.messageCount = res.data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleMarkReadMessage(val){\r\n\t\t\t\tthis.$tn.message.loading('加载中')\r\n\t\t\t\tlet params\r\n\t\t\t\tif(val != null) {\r\n\t\t\t\t\tif(val.isRead) {\r\n\t\t\t\t\t\tthis.$tn.message.toast('无需重复标记')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams = {\r\n\t\t\t\t\t\tid:val.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tmarkReadMessageNoticeApplet(params).then(res =>{\r\n\t\t\t\t\tthis.$tn.message.closeLoading()\r\n\t\t\t\t\tthis.errorResponse(res);\r\n\t\t\t\t\tthis.show1 = false\r\n\t\t\t\t\tif(val) {\r\n\t\t\t\t\t\tval.isRead = 1\r\n\t\t\t\t\t\tif(this.params.type == 1) {\r\n\t\t\t\t\t\t\tthis.messageCount.comment--\r\n\t\t\t\t\t\t}else if(this.params.type == 2) {\r\n\t\t\t\t\t\t\tthis.messageCount.watch--\r\n\t\t\t\t\t\t}else if(this.params.type == 3) {\r\n\t\t\t\t\t\t\tthis.messageCount.like--\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.messageCount.system--\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.getMessageNotice()\r\n\t\t\t\t\t\tthis.messageCount = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$tn.message.toast('标记成功')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\terrorResponse(res){\r\n\t\t\t\tif(res.code != 200) {\r\n\t\t\t\t\tthis.$tn.message.toast(res.message)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleClick(val){\r\n\t\t\t\tif(val.index == 0) {\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\tid:this.messageList[val.name]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.handleMarkReadMessage(this.messageList[val.name]);\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(val.index == 1) {\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\ttype:this.params.type,\r\n\t\t\t\t\t\tid:this.messageList[val.name]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdeleteMessage(params).then(res =>{\r\n\t\t\t\t\t\tthis.errorResponse(res)\r\n\t\t\t\t\t\tthis.$delete(this.messageList, val.name);\r\n\r\n\t\t\t\t\t    this.$tn.message.toast('删除成功')\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\tgetMessageNotice(){\r\n\t\t\t\tthis.messageList=[]\r\n\t\t\t\tthis.$tn.message.loading(\"加载中\")\r\n\t\t\t\tgetMessageNotice(this.params).then(res =>{\r\n\t\t\t\t\tthis.$tn.message.closeLoading()\r\n\t\t\t\t\tif(res.code != 200) {\r\n\t\t\t\t\t\tthis.$tn.message.toast(res.message)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.messageList = res.data.records\r\n\t\t\t\t\tthis.pages = res.data.pages\r\n\t\t\t\t\tthis.status = this.params.pageNo == this.pages || !this.pages ? \"noMore\" : \"more\"\r\n\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleMessageNotice(type){\r\n\t\t\t\tif(this.params.type == type ){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tthis.params.type = type;\r\n\t\t\t\tthis.params.pageNo = 1\r\n\t\t\t\tthis.getMessageNotice()\r\n\t\t\t},\r\n\t\t\thandlePage(val){\r\n\t\t\t\tif (this.status == \"noMore\") {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$tn.message.loading('加载中')\r\n\t\t\t\tthis.status = \"loading\";\r\n\t\t\t\tthis.params.pageNo++;\r\n\t\t\t\tgetMessageNotice(this.params).then(res => {\r\n\t\t\t\t\tthis.$tn.message.closeLoading()\r\n\t\t\t\t\tthis.messageList.push(...res.data.records)\r\n\t\t\t\t\tthis.pages = res.data.pages\r\n\t\t\t\t\tthis.status = this.params.pageNo == this.pages || !this.pages ? \"noMore\" : \"more\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t  // 弹出模态框\r\n\t\t  showModal(event) {\r\n\t\t\tthis.openModal()\r\n\t\t  },\r\n\t\t  // 打开模态框\r\n\t\t  openModal() {\r\n\t\t\tthis.show1 = true\r\n\t\t  },\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .template-preferred {\r\n    // background-color: $tn-bg-gray-color;\r\n    max-height: 100vh;\r\n  }\r\n  .tn-tabbar-height {\r\n  \tmin-height: 120rpx;\r\n  \theight: calc(140rpx + env(safe-area-inset-bottom) / 2);\r\n  }\r\n  \r\n  .tn-message-fixed{\r\n    position: fixed;\r\n    background-color: rgba(255,255,255,1);\r\n    box-shadow: 0rpx 0rpx 30rpx 0rpx rgba(0, 0, 0, 0.07);\r\n    top: 0;\r\n    width: 100%;\r\n    transition: all 0.25s ease-out;\r\n    z-index: 100;\r\n  }\r\n  \r\n  /* 图标容器1 start */\r\n  .icon1 {\r\n    &__item {\r\n      width: 30%;\r\n      background-color: #FFFFFF;\r\n      border-radius: 10rpx;\r\n      padding: 30rpx;\r\n      margin: 20rpx 10rpx;\r\n      transform: scale(1);\r\n      transition: transform 0.3s linear;\r\n      transform-origin: center center;\r\n      \r\n      &--icon {\r\n        width: 90rpx;\r\n        height: 90rpx;\r\n        font-size: 60rpx;\r\n        border-radius: 50%;\r\n        margin-bottom: 18rpx;\r\n        position: relative;\r\n        z-index: 1;\r\n        \r\n        &::after {\r\n          content: \" \";\r\n          position: absolute;\r\n          z-index: -1;\r\n          width: 100%;\r\n          height: 100%;\r\n          left: 0;\r\n          bottom: 0;\r\n          border-radius: inherit;\r\n          opacity: 1;\r\n          transform: scale(1, 1);\r\n          background-size: 100% 100%;\r\n          background-image: url(https://resource.tuniaokj.com/images/cool_bg_image/icon_bg5.png);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  /* 用户头像 start */\r\n  .logo-image {\r\n    width: 90rpx;\r\n    height: 90rpx;\r\n    position: relative;\r\n  }\r\n  \r\n  .logo-pic {\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    // background-attachment:fixed;\r\n    background-position: top;\r\n    // box-shadow: 0rpx 0rpx 80rpx 0rpx rgba(0, 0, 0, 0.15);\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    // background-color: #FFFFFF;\r\n  }\r\n</style>\r\n\r\n\r\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./message.vue?vue&type=style&index=0&id=a91f51d4&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./message.vue?vue&type=style&index=0&id=a91f51d4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1703571799849\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}